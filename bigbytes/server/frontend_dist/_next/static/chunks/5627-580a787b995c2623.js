"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5627],{52749:function(e,n,r){var i=r(82394),t=r(82684),l=r(9518),o=r(71180),c=r(55485),s=r(68562),u=r(7267),a=r(38276),d=r(30160),p=r(35576),f=r(17488),h=r(72473),j=r(4015),g=r(70515),v=r(81728),b=r(28598);function m(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,i)}return r}function x(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}l.default.button.withConfig({displayName:"ControlPanel__NewPipelineButton",componentId:"sc-9leloj-0"})(["background-color:#FFA500;color:#FFFFFF;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;&:hover{background-color:#FF8C00;}"]);n.Z=function(e){var n,r,i,l,m=e.createPipeline,P=e.isLoading,w=e.onClose,Z=(0,t.useRef)(null),O=(0,t.useState)(!1),C=O[0],y=O[1],I=(0,t.useState)({name:(0,v.Y6)()}),k=I[0],A=I[1];return(0,t.useEffect)((function(){var e;null==Z||null===(e=Z.current)||void 0===e||e.focus()}),[]),(0,b.jsxs)(j.Nk,{children:[(0,b.jsx)(j.I5,{children:(0,b.jsx)(c.ZP,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(h.AISparkle,{size:5*g.iI,warning:!0})})}),(0,b.jsx)(j.gI,{children:(0,b.jsxs)(a.Z,{py:1,children:[(0,b.jsx)(a.Z,{mb:1,children:(0,b.jsx)(d.ZP,{default:!0,children:"New pipeline"})}),(0,b.jsx)(d.ZP,{textOverflow:!0,children:"Using AI"})]})}),(0,b.jsxs)(j.gI,{children:[(0,b.jsx)(d.ZP,{default:!0,children:"Name"}),(0,b.jsx)(f.Z,{alignRight:!0,noBackground:!0,noBorder:!0,onChange:function(e){return A((function(n){return x(x({},n),{},{name:e.target.value})}))},paddingVertical:g.iI,placeholder:"Enter pipeline name...",value:(null==k?void 0:k.name)||""})]}),(0,b.jsx)(j.gI,{children:(0,b.jsxs)(c.ZP,{flexDirection:"column",fullWidth:!0,children:[(0,b.jsx)(a.Z,{mb:2,pt:1,children:(0,b.jsx)(d.ZP,{default:!0,children:"Describe what the pipeline should do"})}),(0,b.jsxs)(a.Z,{pb:1,pr:g.cd,children:[(0,b.jsx)(p.Z,{fullWidth:!0,onChange:function(e){return A((function(n){return x(x({},n),{},{llm:{request:{pipeline_description:e.target.value},use_case:u.z.GENERATE_PIPELINE_WITH_DESCRIPTION}})}))},placeholder:"Type the pipeline purpose...",ref:Z,rows:8,value:(null==k||null===(n=k.llm)||void 0===n||null===(r=n.request)||void 0===r?void 0:r.pipeline_description)||""}),(P||C)&&(0,b.jsx)(a.Z,{mt:1,children:(0,b.jsx)(d.ZP,{warning:!0,children:"Pipeline is being generated using AI based on your description above..."})})]})]})}),(0,b.jsx)(j.$b,{children:(0,b.jsxs)(c.ZP,{fullWidth:!0,children:[(0,b.jsx)(s.ZP,{bold:!0,centerText:!0,disabled:!(null!=k&&k.name&&null!=k&&null!==(i=k.llm)&&void 0!==i&&null!==(l=i.request)&&void 0!==l&&l.pipeline_description),loading:P||C,onClick:function(){y(!0),m({pipeline:k}).then((function(){return y(!1)}))},primary:!0,tabIndex:0,uuid:"AIControlPanel/CreatePipeline",children:"Create pipeline"}),w&&(0,b.jsx)(a.Z,{ml:1,children:(0,b.jsx)(o.ZP,{onClick:w,tabIndex:0,children:"Cancel"})})]})})]})}},94629:function(e,n,r){r.d(n,{Z:function(){return Z}});var i=r(82394),t=r(21831),l=r(82684),o=r(50724),c=r(82555),s=r(97618),u=r(70613),a=r(24791),d=r(68899),p=r(28598);function f(e,n){var r=e.children,i=e.noPadding;return(0,p.jsx)(d.HS,{noPadding:i,ref:n,children:r})}var h=l.forwardRef(f),j=r(62547),g=r(82571),v=r(77417),b=r(46684),m=r(75375);function x(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,i)}return r}function P(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function w(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var r=e.after,i=e.afterHeader,l=e.afterHidden,f=e.afterWidth,x=e.afterWidthOverride,w=e.appendBreadcrumbs,Z=e.before,O=e.beforeHeader,C=e.beforeWidth,y=e.breadcrumbs,I=e.children,k=e.contained,A=e.errors,M=e.headerMenuItems,E=e.headerOffset,W=e.hideAfterCompletely,B=e.mainContainerHeader,N=e.navigationItems,T=e.setAfterHidden,S=e.setAfterWidth,D=e.setBeforeWidth,_=e.setErrors,F=e.subheaderChildren,H=e.subheaderNoPadding,R=e.title,z=e.uuid,L=(0,m.Z)(z,{beforeResizeOffset:m.H,setWidthAfter:S,setWidthBefore:D,widthAfter:f,widthBefore:C,widthOverrideAfter:x}),q=L.mainContainerRef,Y=L.mousedownActiveAfter,G=L.mousedownActiveBefore,U=L.setMousedownActiveAfter,V=L.setMousedownActiveBefore,$=L.setWidthAfter,K=L.setWidthBefore,Q=L.widthAfter,J=L.widthBefore,X=(0,v.Z)().project,ee=[];return y&&ee.push.apply(ee,(0,t.Z)(y)),null!=y&&y.length&&!w||!X||null!=y&&y.length||ee.unshift({bold:!w,label:function(){return R}}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{title:R}),(0,p.jsx)(a.Z,{breadcrumbs:ee,menuItems:M}),(0,p.jsxs)(d.Nk,{ref:n,children:[0!==(null==N?void 0:N.length)&&(0,p.jsx)(d.lm,{showMore:!0,children:(0,p.jsx)(g.Z,{navigationItems:N,showMore:!0})}),(0,p.jsx)(s.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(j.Z,{after:r,afterHeader:i,afterHeightOffset:b.Mz,afterHidden:l,afterMousedownActive:Y,afterWidth:Q,before:Z,beforeHeader:O,beforeHeightOffset:b.Mz,beforeMousedownActive:G,beforeWidth:Z?J:d.k1,contained:k,headerOffset:E,hideAfterCompletely:!r||W,leftOffset:Z?d.k1:null,mainContainerHeader:B,mainContainerRef:q,setAfterHidden:T,setAfterMousedownActive:U,setAfterWidth:$,setBeforeMousedownActive:V,setBeforeWidth:K,children:[F&&(0,p.jsx)(h,{noPadding:H,children:F}),I]})})]}),A&&(0,p.jsx)(o.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null==_?void 0:_(null)},children:(0,p.jsx)(c.Z,P(P({},A),{},{onClose:function(){return null==_?void 0:_(null)}}))})]})}var Z=l.forwardRef(w)},65458:function(e,n,r){r.d(n,{d:function(){return u}});var i=r(72473),t=r(57653),l=r(70515),o=r(81728),c=r(28598),s=1.5*l.iI,u=function(e,n){var r=[{beforeIcon:(0,c.jsx)(i.BatchPipeline,{}),label:function(){return"Standard (batch)"},onClick:function(){var r;null!=n&&n.showCreatePipelineModal?null==n||null===(r=n.showCreatePipelineModal)||void 0===r||r.call(n,{pipelineType:t.qL.PYTHON}):e({pipeline:{name:(0,o.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{beforeIcon:(0,c.jsx)(i.IntegrationPipeline,{}),label:function(){return"Data integration"},onClick:function(){var r;null!=n&&n.showCreatePipelineModal?null==n||null===(r=n.showCreatePipelineModal)||void 0===r||r.call(n,{pipelineType:t.qL.INTEGRATION}):e({pipeline:{name:(0,o.Y6)(),type:t.qL.INTEGRATION}})},uuid:"Pipelines/NewPipelineMenu/integration"},{beforeIcon:(0,c.jsx)(i.StreamingPipeline,{size:s}),label:function(){return"Streaming"},onClick:function(){var r;null!=n&&n.showCreatePipelineModal?null==n||null===(r=n.showCreatePipelineModal)||void 0===r||r.call(n,{pipelineType:t.qL.STREAMING}):e({pipeline:{name:(0,o.Y6)(),type:t.qL.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}];return null!=n&&n.showBrowseTemplates&&r.push({beforeIcon:(0,c.jsx)(i.TemplateShapes,{}),label:function(){return"From a template"},onClick:function(){var e;return null==n||null===(e=n.showBrowseTemplates)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/custom_template"}),null!=n&&n.showImportPipelineModal&&r.push({beforeIcon:(0,c.jsx)(i.Upload,{}),label:function(){return"Import pipeline zip"},onClick:function(){var e;return null==n||null===(e=n.showImportPipelineModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/upload"}),null!=n&&n.showAIModal&&r.push({beforeIcon:(0,c.jsx)(i.AISparkle,{}),label:function(){return"Using AI (beta)"},onClick:function(){var e;return null==n||null===(e=n.showAIModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/AI_modal"}),r}},76111:function(e,n,r){var i=r(82394),t=r(82684),l=r(71180),o=r(97618),c=r(55485),s=r(68562),u=r(38276),a=r(30160),d=r(35576),p=r(17488),f=r(44897),h=r(4015),j=r(39643),g=r(57653),v=r(70515),b=r(81728),m=r(28598);function x(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,i)}return r}function P(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n.Z=function(e){var n=e.onClose,r=e.onSave,i=e.pipelineType,x=g.Mj[i],w=(0,t.useRef)(null),Z=(0,t.useState)({name:(0,b.Y6)()}),O=Z[0],C=Z[1];(0,t.useEffect)((function(){var e;null==w||null===(e=w.current)||void 0===e||e.focus()}),[]);var y=(0,t.useCallback)((function(){var e=null==O?void 0:O.tags,i=[];e&&(i=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))),r(P(P({},O),{},{name:(null==O?void 0:O.name)||(0,b.Y6)(),tags:i})),null==n||n()}),[O,n,r]);return(0,t.useEffect)((function(){var e,r=function(e){if(e.stopPropagation(),e.key===j.KW)null==n||n();else if(e.key===j.tt){var r=e.target.innerText;r.startsWith("Create")||"Cancel"===r||y()}};return null===(e=document)||void 0===e||e.addEventListener("keydown",r),function(){var e;null===(e=document)||void 0===e||e.removeEventListener("keydown",r)}}),[y,n]),(0,m.jsxs)(h.Nk,{width:55*v.iI,children:[(0,m.jsx)(h.I5,{lightBackground:!0,children:(0,m.jsxs)(c.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,m.jsx)(a.ZP,{bold:!0,cyan:!0,largeLg:!0,children:"".concat(g.G7[i]," pipeline")}),(0,m.jsx)(x,{fill:f.Z.accent.cyan,size:10*v.iI})]})}),(0,m.jsxs)(h.gI,{lightBackground:!0,children:[(0,m.jsx)(a.ZP,{default:!0,children:"Name"}),(0,m.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){C((function(n){return P(P({},n),{},{name:e.target.value})}))},paddingVertical:v.iI,placeholder:"Pipeline name...",ref:w,value:(null==O?void 0:O.name)||""})]}),(0,m.jsxs)(h.gI,{lightBackground:!0,children:[(0,m.jsx)(a.ZP,{default:!0,children:"Description"}),(0,m.jsx)(u.Z,{ml:9}),(0,m.jsx)(u.Z,{fullWidth:!0,px:2,py:1,children:(0,m.jsx)(d.Z,{onChange:function(e){C((function(n){return P(P({},n),{},{description:e.target.value})}))},rows:2,value:(null==O?void 0:O.description)||""})})]}),(0,m.jsxs)(h.gI,{lightBackground:!0,children:[(0,m.jsx)(a.ZP,{default:!0,children:"Tags"}),(0,m.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){var n=e.target.value;C((function(e){return P(P({},e),{},{tags:n})}))},paddingVertical:v.iI,placeholder:"e.g. tag_1, tag_2",value:(null==O?void 0:O.tags)||""})]}),(0,m.jsx)(h.$b,{topBorder:!0,children:(0,m.jsxs)(c.ZP,{fullWidth:!0,children:[(0,m.jsx)(o.Z,{flex:"1",children:(0,m.jsx)(l.ZP,{fullWidth:!0,onClick:n,children:"Cancel"})}),(0,m.jsx)(u.Z,{ml:1}),(0,m.jsx)(o.Z,{flex:"1",children:(0,m.jsx)(s.ZP,{bold:!0,centerText:!0,disabled:!(null!=O&&O.name),fullWidth:!0,onClick:y,primary:!0,uuid:"ConfigurePipeline/CreatePipeline",children:"Create"})})]})})]})}},70026:function(e,n,r){var i=r(75582),t=r(34376),l=r.n(t),o=r(82684),c=r(71180),s=r(59658),u=r(55485),a=r(65956),d=r(89515),p=r(35185),f=r(38276),h=r(75499),j=r(30160),g=r(69650),v=r(65327),b=r(42122),m=r(86735),x=r(70515),P=r(89538),w=r(28598);n.Z=function(e){var n=e.fetchPipelines,r=e.onCancel,t=(0,o.useState)(!1),Z=t[0],O=t[1],C=(0,o.useState)(!1),y=C[0],I=C[1],k=(0,o.useState)({}),A=k[0],M=k[1],E=(0,o.useState)({}),W=E[0],B=E[1],N=!(0,b.Qr)(A),T=(0,P.dd)((function(){var e=Object.values(W)[0],n=null==e?void 0:e.message,i=!!n;return(0,w.jsx)(d.Z,{cancelText:i?null:"Edit ".concat(null==e?void 0:e.name),centerOnScreen:!0,confirmText:"Close",danger:i,neutral:!i,onCancel:i?void 0:function(){return l().push("/pipelines/[pipeline]/edit","/pipelines/".concat(null==e?void 0:e.name,"/edit"))},onClick:function(){return r()},subtitle:i?n:"Pipeline ".concat(null==e?void 0:e.name," successfully imported!"),title:i?"Error on pipeline import.":"Successful import!",width:50*x.iI})}),{},[W],{background:!0,uuid:"confirm_upload"}),S=(0,i.Z)(T,1)[0],D=(0,o.useMemo)((function(){var e=[];return(0,m.YC)(Object.entries(A),(function(e){var n=(0,i.Z)(e,2),r=n[0];n[1];return r})).forEach((function(n){var r=(0,i.Z)(n,2),t=r[0],l=r[1],o=W[t],c=null==o?void 0:o.message;e.push([(0,w.jsxs)("div",{children:[(0,w.jsx)(j.ZP,{overflowWrap:!0,preWrap:!0,children:t}),c&&(0,w.jsx)(f.Z,{mt:1,children:(0,w.jsx)(j.ZP,{danger:!0,small:!0,children:c})})]},"name-".concat(t)),(0,w.jsx)(p.Z,{danger:!!c,progress:100*l},"progress-".concat(t))])})),(0,w.jsx)(h.Z,{columnFlex:[1,4],columns:[{uuid:"Filename"},{uuid:"Upload progress"}],rows:e,uuid:"block-runs"})}),[A,W]);return(0,w.jsxs)(a.Z,{footer:(0,w.jsxs)(u.ZP,{fullWidth:!0,justifyContent:"space-between",children:[(0,w.jsx)(c.ZP,{onClick:function(){return r()},children:"Close"}),(0,w.jsx)(f.Z,{ml:1,children:(0,w.jsxs)(u.ZP,{alignItems:"center",justifyContent:"flex-end",children:[(0,w.jsx)(j.ZP,{children:"Overwrite pipeline files"}),(0,w.jsx)(f.Z,{ml:1}),(0,w.jsx)(g.Z,{checked:Z,onCheck:O})]})})]}),headerTitle:"Import pipeline from .zip file",children:[N&&(0,w.jsx)(v.kA,{children:D}),!N&&(0,w.jsxs)(s.Z,{directoryPath:null,onDragActiveChange:I,overwrite:Z,pipelineZip:!0,setFileUploadProgress:M,setUploadedFiles:function(e){B(e),S(),null==n||n()},children:[(0,w.jsx)(v.es,{children:(0,w.jsxs)(j.ZP,{center:!0,children:[y&&"Drop pipeline zip to import",!y&&"Click or drop pipeline zip to upload"]})}),(0,w.jsx)(f.Z,{mt:2,children:(0,w.jsxs)(j.ZP,{warning:!0,children:["The zip file should include the pipeline’s metadata.yaml file and each",(0,w.jsx)("br",{}),"block’s script file in the root folder."]})})]})]})}}}]);